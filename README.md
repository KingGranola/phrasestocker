
# PhraseStocker (v0.8)

## 概要
**PhraseStocker** は、ジャズギタリスト・ベーシスト向けのフレーズ作成・学習支援ツールです。
五線譜とTAB譜を同時に編集でき、入力されたメロディに対して音楽理論（ジャズ理論）に基づいたコード解析やバッキング再生を行います。

## 主な機能

### 🎼 スコアエディタ
*   **五線譜・TAB譜同期**: 五線譜に入力すると、最適な運指（弦・フレット）を自動計算してTAB譜を生成。
*   **入力モード**: MuseScoreライクなキーボードショートカット（`N`で入力, `Esc`で選択）。
*   **編集機能**: 音程変更、運指の変更（`Ctrl`+`↑/↓` またはTABクリック）、タイ、スラーなど。

### 🧠 音楽理論エンジン
*   **コードパレット**: 設定されたKeyとScaleに基づき、ダイアトニック、セカンダリードミナント、裏コードなどをカテゴリ別に提案。
*   **度数表示 (Degree Analysis)**: メロディ音が現在のコードに対して何度（R, 3, 5, 9, 13等）にあたるかをリアルタイム表示。
*   **スムース・ボイスリーディング**: コード進行に合わせて、指の移動が最小になるよう自動的に転回形を選択して再生。

### 🔊 再生・ミキサー
*   **高音質再生**: Tone.jsを使用したサンプラー音源（ピアノ）とシンセサイザー。
*   **ミキサー**: メロディ、コード、メトロノームの音量バランスを調整可能。
*   **メトロノーム**: 通常（全拍）とジャズスタイル（2&4拍）の切り替え。

### 💾 管理・出力
*   **ライブラリ**: 作成したフレーズをブラウザ内に保存・管理。
*   **エクスポート**: Standard MIDI File (.mid) および MusicXML (.musicxml) 形式での書き出し。

## 技術スタック
*   **Frontend**: React 19, TypeScript
*   **Styling**: Tailwind CSS
*   **Notation**: VexFlow (HTML5 Canvas/SVG Rendering)
*   **Audio**: Tone.js (Web Audio API Wrapper)
*   **Icons**: Lucide React

---

## 更新履歴 (Changelog)

### v0.8
*   **名称変更**: アプリ名を「PhraseStocker+」から「PhraseStocker」に変更。
*   **UI改善**: マニュアル、UI各所の表記を更新。

### v0.7
*   **リファクタリング**: コードベースをサービス（理論、TAB計算）とコンポーネントにモジュール分割し、保守性を向上。
*   **UI改善**: モーダル、サイドバーなどのレイアウト整理。

### v0.6
*   **小節数制限**: フレーズストック用途に特化するため、小節数を1〜2小節に限定。
*   **マニュアル拡充**: 詳細な操作ガイド、理論解説、ショートカット一覧を追加。
*   **機能復活**: 全消去（ゴミ箱）ボタンの復元。

### v0.5
*   **モバイル対応**: スマートフォン・タブレット（横画面）での表示・操作に対応。
*   **メトロノーム強化**: 音色（Click, Kick, Beep）とパターン（All, Jazz 2-4）の選択機能追加。
*   **表示改善**: ゴーストノートの位置ズレ修正。

### v0.4
*   **TAB編集改善**: TAB譜の数字をクリックすることで、有効な運指を循環（サイクル）して切り替える機能を追加。
*   **操作性向上**: マウスカーソルのフィードバック強化。

### v0.3
*   **ボイスリーディング**: コード再生時に前の和音とのつながりを滑らかにする自動転回ロジックを実装。
*   **不具合修正**: TAB譜のクリック判定エリア拡大。

### v0.2
*   **理論エンジン修正**: CM7などのメジャーセブンスコード構成音の修正。Bm7(b5)等の表記揺れ対応。
*   **プリセット**: Cメジャースケールのサンプル追加。

### v0.1
*   初期リリース。アプリ名をPhraseStocker+からPhraseStockerにして
